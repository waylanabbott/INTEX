<%- include("partials/header") %>
<%- include("partials/nav") %>

<h1 class="section-header"><%= mode === "edit" ? "Edit Survey" : "Add Survey" %></h1>

<div class="card">

    <form action="/surveys/save" method="POST" class="form-layout">

        <% if (mode === "edit") { %>
            <input type="hidden" name="SurveyID" value="<%= survey.SurveyID %>">
        <% } %>

        <div class="form-group">
            <label>Participant Email</label>
            <input type="email" name="ParticipantEmail"
                   value="<%= survey ? survey.ParticipantEmail : '' %>" required>
        </div>

        <div class="form-group">
            <label>Event Name</label>
            <input type="text" name="EventName"
                   value="<%= survey ? survey.EventName : '' %>" required>
        </div>

        <div class="form-group">
            <label>Event Start (Date/Time)</label>
            <input type="datetime-local" name="EventDateTimeStart"
                   value="<%= survey ? survey.EventDateTimeStart : '' %>">
        </div>

        <div class="form-group">
            <label>Satisfaction Score</label>
            <input type="number" name="SurveySatisfactionScore" max = 5
                   value="<%= survey ? survey.SurveySatisfactionScore : '' %>">
        </div>

        <div class="form-group">
            <label>Usefulness Score</label>
            <input type="number" name="SurveyUsefulnessScore" max = 5
                   value="<%= survey ? survey.SurveyUsefulnessScore : '' %>">
        </div>

        <div class="form-group">
            <label>Instructor Score</label>
            <input type="number" name="SurveyInstructorScore" max = 5
                   value="<%= survey ? survey.SurveyInstructorScore : '' %>">
        </div>

        <div class="form-group">
            <label>Recommendation Score</label>
            <input type="number" name="SurveyRecommendationScore" max = 5
                   value="<%= survey ? survey.SurveyRecommendationScore : '' %>">
        </div>

        <div class="form-group">
            <label>Overall Score</label>
            <input type="number" name="SurveyOverallScore" max = 5
                   value="<%= survey ? survey.SurveyOverallScore : '' %>">
        </div>

        <div class="form-group">
            <label>NPS Bucket</label>
            <select type="text" name="SurveyNPSBucket"
                   value="<%= survey ? survey.SurveyNPSBucket : '' %>">
                   <option value = 'promoter'>Promoter</option>
                   <option value = 'passive'>Passive</option>
                   <option value = 'detractor'>Detractor</option>
        </div>

        <div class="form-group">
            <label>Comments</label>
            <textarea name="SurveyComments"><%= survey ? survey.SurveyComments : '' %></textarea>
        </div>

        <div class="form-actions">
            <button class="btn btn-primary">
                <%= mode === "edit" ? "Save" : "Add Survey" %>
            </button>
            <a class="btn btn-secondary" href="/surveys">Cancel</a>
        </div>

    </form>
</div>

<%- include("partials/footer") %>
