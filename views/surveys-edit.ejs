<%- include("partials/header") %>
<%- include("partials/nav") %>

<h1 class="section-header"><%= mode === "edit" ? "Edit Survey" : "Add Survey" %></h1>

<div class="card">

    <form action="/surveys/save" method="POST" class="form-layout">

        <% if (mode === "edit") { %>
            <input type="hidden" name="SurveyID" value="<%= survey.SurveyID %>">
        <% } %>

        <div class="form-group">
            <label>Participant Email</label>
            <input type="email" name="ParticipantEmail"
                   value="<%= survey ? survey.ParticipantEmail : '' %>" required>
        </div>

        <div class="form-group">
            <label>Event Name</label>
            <input type="text" name="EventName"
                   value="<%= survey ? survey.EventName : '' %>" required>
        </div>

        <div class="form-group">
            <label>Event Occurrence ID</label>
            <input type="number" name="EventOccurrenceID"
                   value="<%= survey ? survey.EventOccurrenceID : '' %>" required>
        </div>

        <div class="form-group">
            <label>Survey Date</label>
            <input type="text" name="SurveyDate"
                   value="<%= survey ? survey.SurveyDate : '' %>" required>
        </div>

        <div class="form-group">
            <label>Satisfaction Score</label>
            <input type="number" name="SatisfactionScore"
                   value="<%= survey ? survey.SatisfactionScore : '' %>" required>
        </div>

        <div class="form-group">
            <label>Learning Score</label>
            <input type="number" name="LearningScore"
                   value="<%= survey ? survey.LearningScore : '' %>" required>
        </div>

        <div class="form-group">
            <label>Confidence Score</label>
            <input type="number" name="ConfidenceScore"
                   value="<%= survey ? survey.ConfidenceScore : '' %>" required>
        </div>

        <div class="form-group">
            <label>Comments</label>
            <textarea name="Comments"><%= survey ? survey.Comments : '' %></textarea>
        </div>

        <div class="form-actions">
            <button class="btn btn-primary">
                <%= mode === "edit" ? "Save" : "Add Survey" %>
            </button>
            <a class="btn btn-secondary" href="/surveys">Cancel</a>
        </div>

    </form>
</div>

<%- include("partials/footer") %>
