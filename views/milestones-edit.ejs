<%- include("partials/header") %>
<%- include("partials/nav") %>

<h1 class="section-header"><%= mode === "edit" ? "Edit Milestone" : "Add Milestone" %></h1>

<div class="card">

    <form action="/milestones/save" method="POST" class="form-layout">

        <% if (mode === "edit") { %>
            <input type="hidden" name="OriginalEmail" value="<%= milestone.ParticipantEmail %>">
            <input type="hidden" name="OriginalDate" value="<%= milestone.MilestoneDate %>">
        <% } %>

        <div class="form-group">
            <label>Participant Email</label>
            <input type="email" name="ParticipantEmail"
                   value="<%= milestone ? milestone.ParticipantEmail : '' %>" required>
        </div>

        <div class="form-group">
            <label>Milestone Title</label>
            <input type="text" name="MilestoneTitle"
                   value="<%= milestone ? milestone.MilestoneTitle : '' %>" required>
        </div>

        <div class="form-group">
            <label>Milestone Date</label>
            <input type="text" name="MilestoneDate"
                   value="<%= milestone ? milestone.MilestoneDate : '' %>" required>
        </div>

        <div class="form-actions">
            <button class="btn btn-primary">
                <%= mode === "edit" ? "Save Changes" : "Add Milestone" %>
            </button>
            <a class="btn btn-secondary" href="/milestones">Cancel</a>
        </div>

    </form>

</div>

<%- include("partials/footer") %>
